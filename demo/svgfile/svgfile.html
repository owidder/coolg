<!DOCTYPE html>
<meta charset="utf-8">
<body>
<script src="../../bower_components/d3/d3.js"></script>
<script>

    function computeArea(element) {
        var rect = element.getBoundingClientRect();
        return rect.width * rect.height;
    }

    var areaMap = {};

    function addAreaToMap(clazz, area) {
        if(isNaN(areaMap[clazz])) {
            areaMap[clazz] = 0;
        }

        areaMap[clazz] += area;
    }

    function computeAreas() {
        d3.selectAll("svg > path")
                .each(function() {
                    var area = computeArea(this);
                    var clazz = this.getAttribute("class");
                    addAreaToMap(clazz, area);
                });
    }

    d3.xml("./picasso1.svg").mimeType("image/svg+xml").get(function(error, xml) {
        if (error) throw error;
        document.body.appendChild(xml.documentElement);
        computeAreas();
        console.log(areaMap);
    });

</script>
